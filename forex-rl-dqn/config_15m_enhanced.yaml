# Enhanced Configuration - 15M with Advanced Features & Multi-Step
# Features: ATR, Momentum, Volatility, Volume, MACD
# Environment: Multi-step episodes for better learning
seed: 42

env:
  window_size: 48  # 48 * 15min = 12 hours (increased context)
  episode_length: 100  # 100 steps = 25 hours of trading
  fee_perc: 0.00001  # 0.001%
  spread_perc: 0.00002  # 0.002%
  scale_features: true
  use_multistep: true
  features:
    # Price-based
    - rsi_14
    - ema_12
    - ema_26
    - bb_upper_20
    - bb_lower_20
    
    # Returns
    - returns_1
    - returns_5
    
    # NEW: Volatility & Range
    - atr_14           # Average True Range
    - volatility_20    # Historical volatility
    
    # NEW: Momentum
    - momentum_10      # 10-period momentum
    - momentum_20      # 20-period momentum
    
    # NEW: Volume
    - volume_ratio     # Volume vs MA
    
    # NEW: MACD
    - macd
    - macd_signal

agent:
  gamma: 0.97  # Higher discount for multi-step
  lr: 0.00005  # Lower LR for stability
  batch_size: 128
  replay_size: 100000
  start_training_after: 2000
  target_update_interval: 1000
  epsilon_start: 1.0
  epsilon_end: 0.01
  epsilon_decay_steps: 80000
  grad_clip_norm: 10.0
  dueling: true
  lstm_hidden: 256  # Larger for more features
  mlp_hidden: 512   # Larger for more features

train:
  max_steps: 150000
  eval_interval: 5000
  checkpoint_interval: 10000
  device: auto
  train_split: 0.8
